@page "/simulation/simulate"
@using LayoutSimulator
@using LayoutSimulator.Test
@implements IDisposable
@attribute [Authorize]
@inject Manager manager
@inject LoginInformation LoginInfo
@inject IJSRuntime JS
@inject NavigationManager Navigation
@rendermode InteractiveServer

<PageTitle>nexus | Simulation Scenario | @LoginInfo.CurrentProject.ProjectName</PageTitle>

@code {

    public SimulatorLayout layout { get; set; }

    protected override async Task OnInitializedAsync()
    {
        layout = TestScenario.GetAutoTestLayout();
        manager.SimulationScenarioDB.PropertyChanged += (_, __) => InvokeAsync(StateHasChanged);
    }

    public void Dispose()
    {
        manager.SimulationScenarioDB.PropertyChanged -= (_, __) => InvokeAsync(StateHasChanged);
    }
}
